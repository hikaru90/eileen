import{_ as C}from"./DR3C1UCQ.js";import{f as w,h as k,s as S,u as $,r as R,o as i,c as d,a as o,A as c,E as p,n as s,F as U,x as F,S as V,t as D,b as B,y as E,T as I}from"./BtqrO9Ir.js";import{u as T}from"./BQsV-98k.js";import"./C5jMS97L.js";const H={class:"p-4"},N={class:"mb-4"},O=o("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),A={class:"mb-4"},L=o("h2",{class:"text-xs mb-2 opacity-40"},"Subline",-1),z={class:"mb-4"},M=o("h2",{class:"text-xs mb-2 opacity-40"},"Hintergrundbild",-1),P=o("h2",{class:"text-xs opacity-40"},"Dateien",-1),j={class:"flex items-center gap-2"},q=["onClick"],ee=w({__name:"HeroSmall",setup(G){const{$event:g}=E(),u=k(),{setComponentContent:J,saveContent:n,deleteFile:f}=u,{componentContent:a,componentId:m,componentType:b,componentFiles:x}=S(u),{pb:_}=$(),h=I();R({heading:""});const y=async r=>{const t=new FormData;for(let e of r.target.files)t.append("files",e);const l=await _.collection(b.value+"s").update(m.value,t);console.log("createdRecord",l),g("refresh")},v=r=>T()(`${h.public.SERVER_URL}/api/files/${b.value+"s"}/${m.value}/${r}?thumb=160x90f`,{format:"webp"});return(r,t)=>{const l=C;return i(),d("div",H,[o("div",N,[O,c(o("input",{onChange:t[0]||(t[0]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>s(a).heading=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[p,s(a).heading]])]),o("div",A,[L,c(o("input",{onChange:t[2]||(t[2]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>s(a).subline=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[p,s(a).subline]])]),o("div",z,[M,c(o("input",{onChange:t[4]||(t[4]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>s(a).image=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[p,s(a).image]])]),P,(i(!0),d(U,null,F(s(x),(e,K)=>(i(),d("div",j,[o("div",{style:V([{backgroundImage:`url(${v(e)})`}]),class:"w-10 h-10 bg-contain bg-no-repeat bg-center"},null,4),o("span",null,D(e),1),o("button",{onClick:Q=>s(f)(e),class:"border border-red rounded-sm"},[B(l,{name:"icon-cross",class:"text-red text-xl"})],8,q)]))),256)),o("input",{onChange:y,type:"file",class:"mt-2 mb-4"},null,32)])}}});export{ee as default};
