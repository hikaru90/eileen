import{_ as v}from"./nuxt-icon.vue.17f4aeb4.js";import{a as w,k as C,s as k,m as U,e as V,r as R,o as p,f as m,h as o,v as r,x as l,u as s,F as $,j as B,Q as F,t as S,i as D,W as E}from"./entry.714c7b7e.js";import{u as O}from"./composables.9130a2d4.js";import"./image-options.bca13af2.js";const I={class:"p-4"},T={class:"mb-4"},M=o("h2",{class:"text-xs mb-2 opacity-40"},"Adresse",-1),z={class:"mb-4"},L=o("h2",{class:"text-xs mb-2 opacity-40"},"Telefonnummer",-1),N={class:"mb-4"},j=o("h2",{class:"text-xs mb-2 opacity-40"},"Ã–ffnungszeiten",-1),A={class:"mb-4"},P=o("h2",{class:"text-xs mb-2 opacity-40"},"E-Mail",-1),Q={class:"mb-4"},W=o("h2",{class:"text-xs mb-2 opacity-40"},"Bild",-1),q=o("h2",{class:"text-xs opacity-40"},"Dateien",-1),G={class:"flex items-center gap-2"},H=["onClick"],oe=w({__name:"Map",setup(J){const u=C(),{setComponentContent:K,saveContent:n,deleteFile:f}=u,{componentContent:a,componentId:c,componentType:b,componentFiles:g}=k(u),{pb:x}=U(),h=V();R({heading:""});const _=async i=>{const t=new FormData;for(let e of i.target.files)t.append("files",e);const d=await x.collection(b.value+"s").update(c.value,t);console.log("createdRecord",d),E.emit("refresh")},y=i=>O()(`${h.SERVER_URL}/api/files/${b.value+"s"}/${c.value}/${i}?thumb=160x90f`,{format:"webp"});return(i,t)=>{const d=v;return p(),m("div",I,[o("div",T,[M,r(o("textarea",{onChange:t[0]||(t[0]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>s(a).address=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).address]])]),o("div",z,[L,r(o("input",{onChange:t[2]||(t[2]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>s(a).phone=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).phone]])]),o("div",N,[j,r(o("input",{onChange:t[4]||(t[4]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>s(a).openinghours=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).openinghours]])]),o("div",A,[P,r(o("input",{onChange:t[6]||(t[6]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[7]||(t[7]=e=>s(a).mail=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).mail]])]),o("div",Q,[W,r(o("input",{onChange:t[8]||(t[8]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[9]||(t[9]=e=>s(a).image=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).image]])]),q,(p(!0),m($,null,B(s(g),(e,X)=>(p(),m("div",G,[o("div",{style:F([{backgroundImage:`url(${y(e)})`}]),class:"w-10 h-10 bg-contain bg-no-repeat bg-center"},null,4),o("span",null,S(e),1),o("button",{onClick:Y=>s(f)(e),class:"border border-red rounded-sm"},[D(d,{name:"icon-cross",class:"text-red text-xl"})],8,H)]))),256)),o("input",{onChange:_,type:"file",class:"mt-2 mb-4"},null,32)])}}});export{oe as default};
