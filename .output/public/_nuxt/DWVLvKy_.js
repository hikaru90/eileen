import{_ as E}from"./Bn7lEZ5M.js";import{_ as F}from"./DijPiJ8L.js";import{f as P,g as W,u as J,k as N,r as V,l as K,m as A,M as Q,o,c as r,a as n,b as p,w as h,d as C,F as _,x as y,A as $,B as H,n as l,q as T,t as k,S as U,z as g,v as I,a1 as R}from"./BrYHzOpq.js";const X={class:"max-container w-full"},Y={class:"flex items-center justify-between py-4 mb-10"},Z={style:{"font-style":"italic"},class:"font-heading text-lg text-coffee"},ee={class:"flex flex-col items-start gap-6"},te={class:"flex flex-col items-start gap-4"},oe={class:"flex flex-col gap-3"},ne=n("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Buchen",-1),se={key:0,class:"flex items-center gap-2"},le=["href"],ae={class:"max-container w-full"},re={style:{"font-style":"italic"},class:"font-heading text-lg lg:text-2xl text-coffee italic"},ce={class:"lg:hidden flex items-center gap-2"},ie={key:0,class:"flex items-center gap-1"},de=["href"],ue={class:"hidden lg:flex items-center gap-4 text-coffee"},fe={key:0,class:"ml-1"},pe={class:"bg-sand bg-opacity-100 flex flex-col rounded shadow-lg px-2 py-2 mt-3 gap-2"},ge={class:"hidden lg:flex lg:items-center lg:gap-3"},me={key:0,class:"flex items-center gap-1"},he=["href"],xe=n("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Buchen",-1),we=P({__name:"Menu",async setup(G){let i,x;const D=W(),{pb:w}=J(),M=([i,x]=N(()=>w.collection("pages").getFullList(200,{sort:"-created",expand:"subpages"})),i=await i,x(),i),m=([i,x]=N(()=>w.collection("contactOptions").getFullList(200,{sort:"-order"})),i=await i,x(),i),s=V({menuIsOpen:!1,hoverIndex:null,menuEntryCount:0,top:0}),j=K(()=>{let t=M.filter(a=>a.inMenu===!0);t.sort((a,d)=>a.menuOrder-d.menuOrder);let c=0;for(const a of t)if(a.delay=c*100,c++,a.subpages.length>0)for(const d of a.expand.subpages)d.delay=c*100,c++;return s.menuEntryCount=c,t}),L=()=>{console.log("toggle"),s.menuIsOpen=!s.menuIsOpen},B=t=>{console.log("slug",t),t&&(s.menuIsOpen=!1)},q=t=>{const c=t.target.scrollTop;s.top=c},O=t=>{if(!(t!=null&&t.start)&&!(t!=null&&t.end))return!0;const c=new Date(t.start).getDay(),a=new Date(t.end).getDay(),d=s.currentTime.getDay();if(d<c||d>a)return!1;const v=new Date(t.start).getUTCHours(),b=new Date(t.end).getUTCHours();return console.log("link.end",t.end),console.log("link.end",new Date(t.end)),console.log("link.end",new Date(t.end).getUTCHours()),console.log("start",v),console.log("end",b),console.log("state.currentTime.getHours() >= start",s.currentTime.getUTCHours()>=v),console.log("state.currentTime.getHours() <= end",s.currentTime.getUTCHours()<=b),s.currentTime.getUTCHours()>=v&&s.currentTime.getUTCHours()<=b};return A(()=>{window.document.getElementById("content-container").addEventListener("scroll",q)}),Q(()=>{window.document.getElementById("content-container").removeEventListener("scroll",q)}),(t,c)=>{var v,b,z;const a=E,d=F;return o(),r("div",null,[n("div",{class:g([[l(s).menuIsOpen?"opacity-100 scale-100 pointer-events-auto":"scale-110 opacity-0 pointer-events-none"],"fixed z-30 bg-white top-0 left-0 w-full h-full transform transition-all select-none"])},[n("div",X,[n("div",Y,[n("div",Z,[p(a,{to:"/"},{default:h(()=>[C(" Eileen George ")]),_:1})]),n("button",{"aria-label":"Menü öffnen",onClick:L,class:"flex items-center justify-center rounded p-1"},[p(d,{name:"icon-cross",class:"text-3xl text-red"})])]),n("div",ee,[n("div",te,[(o(!0),r(_,null,y(l(j),(e,u)=>$((o(),r("div",{class:"relative",onMouseleave:c[0]||(c[0]=f=>l(s).hoverIndex=null)},[(o(),T(a,{onClick:f=>B(e.slug),to:e.slug==="index"?"/":e.slug,key:"menuEntry"+u,style:U([{transitionDelay:`${e.delay}ms`}]),class:g([[{hidden:!e.slug},l(s).menuIsOpen?"transition-all opacity-100":"opacity-0"],"select-none flex items-center transition-all px-3 py-1 rounded duration-300"])},{default:h(()=>[n("span",null,k(e.title),1)]),_:2},1032,["onClick","to","style","class"])),n("div",oe,[(o(!0),r(_,null,y(e.expand.subpages,(f,S)=>(o(),T(a,{onClick:_e=>B(e),to:f.slug==="index"?"/":f.slug,key:u+"subpage"+S,style:U([{transitionDelay:`${f.delay}ms`}]),class:g([[l(s).menuIsOpen?"transition-all opacity-100":"opacity-0"],"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"])},{default:h(()=>[C(k(f.title),1)]),_:2},1032,["onClick","to","style","class"]))),128))])],544)),[[H,e.inMenu]])),256))]),p(a,{onClick:c[1]||(c[1]=e=>B("buchen")),style:U([{transitionDelay:`${(l(s).menuEntryCount+1)*100}ms`}]),class:g([[l(s).menuIsOpen?"transition-all opacity-100":"opacity-0"],"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"]),to:"/buchen"},{default:h(()=>[ne]),_:1},8,["style","class"]),((v=l(m))==null?void 0:v.length)>0?(o(),r("div",se,[(o(!0),r(_,null,y(l(m),(e,u)=>(o(),r("a",{href:e.link,target:"_blank",key:"link"+u,class:g([[O(e)?"block":"hidden"],"flex items-center justify-center w-8 h-8 rounded-lg"])},[p(d,{name:e.icon,class:"text-2xl text-coffee"},null,8,["name"])],10,le))),128))])):I("",!0)])])],2),n("div",{class:g([[l(s).top>0?"bg-white shadow-xl shadow-coffee/5":"shadow-sm",l(D).token?"absolute":"fixed"],"top-0 left-0 w-full z-20 text-white transition duration-100"])},[n("div",ae,[n("div",{class:g([[l(s).top>0?"py-4 lg:py-4":"py-4 lg:py-6"],"flex items-center justify-between transition-all duration-150"])},[n("div",re,[p(a,{to:"/"},{default:h(()=>[C(" Eileen George ")]),_:1})]),n("div",ce,[((b=l(m))==null?void 0:b.length)>0?(o(),r("div",ie,[(o(!0),r(_,null,y(l(m),(e,u)=>$((o(),r("a",{href:e.link,target:"_blank",key:"link"+u,class:g([[O(e)?"block":"hidden"],"flex items-center justify-center w-6 h-6 rounded group"])},[p(d,{name:e.icon,class:"text-2xl text-coffee group-hover:text-gold transition"},null,8,["name"])],10,de)),[[H,!e.hiddenInMobileMenu]])),128))])):I("",!0),n("button",{"aria-label":"Menü öffnen",onClick:L,class:"flex items-center justify-center rounded p-1"},[p(d,{name:"icon-menu",class:"text-2xl text-coffee"})])]),n("div",ue,[(o(!0),r(_,null,y(l(j),(e,u)=>$((o(),r("div",{class:"relative",onMouseleave:c[2]||(c[2]=f=>l(s).hoverIndex=null)},[(o(),T(a,{to:e.slug==="index"?"/":e.slug,onMouseenter:f=>l(s).hoverIndex=u,key:"menuEntry"+u,class:"flex select-none items-center transition-all px-3 py-1 rounded"},{default:h(()=>[n("div",null,k(e.title),1),e.subpages.length>0?(o(),r("div",fe,[p(d,{name:"icon-triangle_down"})])):I("",!0)]),_:2},1032,["to","onMouseenter"])),n("div",{class:g([[e.subpages.length>0&&l(s).hoverIndex===u?"select-auto opacity-100 bottom-0":"select-none opacity-0 bottom-2"],"absolute left-1 transform translate-y-full flex flex-col items-center -ml-3 transition-all"])},[n("div",pe,[(o(!0),r(_,null,y(e.expand.subpages,(f,S)=>(o(),T(a,{to:f.slug==="index"?"/":f.slug,key:u+"subpage"+S,class:"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"},{default:h(()=>[C(k(f.title),1)]),_:2},1032,["to"]))),128))])],2)],544)),[[H,e.inMenu]])),256))]),n("div",ge,[((z=l(m))==null?void 0:z.length)>0?(o(),r("div",me,[(o(!0),r(_,null,y(l(m),(e,u)=>(o(),r("a",{href:e.link,target:"_blank",key:"link"+u,class:g([[O(e)?"block":"hidden"],"flex items-center justify-center w-6 h-6 rounded group"])},[p(d,{name:e.icon,class:"text-2xl text-coffee group-hover:text-gold transition"},null,8,["name"])],10,he))),128))])):I("",!0),p(a,{to:"/buchen",class:"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"},{default:h(()=>[xe]),_:1})])],2)])],2)])}}}),Ce=P({__name:"UpButton",setup(G){const i=V({threshold:500,visible:!1}),x=w=>{document.querySelector("#content-container").scrollTop>i.threshold?i.visible=!0:i.visible=!1},D=()=>{document.querySelector("#content-container").scrollTo({top:0,behavior:"smooth"})};return A(()=>{document.querySelector("#content-container").addEventListener("scroll",x)}),R(()=>{document.querySelector("#content-container").removeEventListener("scroll",x)}),(w,M)=>{const m=F;return o(),r("button",{onClick:D,class:g([[l(i).visible?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"],"fixed bottom-4 md:bottom-6 right-5 md:right-10 flex items-center justify-center rounded-full shadow-xl bg-white p-2 md:p-4 border border-grey border-opacity-10 transition duration-500"])},[p(m,{name:"icon-arrow_up",class:"text-xl text-darkGrey"})],2)}}});export{we as _,Ce as a};
