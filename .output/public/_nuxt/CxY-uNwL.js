import{_ as E}from"./C6lJ03L2.js";import{_ as F}from"./DIt6DktN.js";import{f as P,g as W,u as J,k as N,r as V,l as K,m as A,M as Q,o as n,c as r,a as o,b as p,w as x,d as T,F as _,x as y,A as j,B,n as l,q as k,t as C,S as H,z as g,v as I,a1 as R}from"./cWgfitSV.js";const X={class:"max-container w-full"},Y={class:"flex items-center justify-between py-4 mb-10"},Z={style:{"font-style":"italic"},class:"font-heading text-lg text-coffee"},ee={class:"flex flex-col items-start gap-6"},te={class:"flex flex-col items-start gap-4"},ne={class:"flex flex-col gap-3"},oe=o("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Termin vereinbaren",-1),se={key:0,class:"flex items-center gap-2"},le=["href"],ae={class:"max-container w-full"},re={style:{"font-style":"italic"},class:"font-heading text-lg lg:text-2xl text-coffee italic"},ie={class:"lg:hidden flex items-center gap-2"},ce={key:0,class:"flex items-center gap-1"},de=["href"],ue={class:"hidden lg:flex items-center gap-4 text-coffee"},fe={key:0,class:"ml-1"},pe={class:"bg-sand bg-opacity-100 flex flex-col rounded shadow-lg px-2 py-2 mt-3 gap-2"},ge={class:"hidden lg:flex lg:items-center lg:gap-3"},me={key:0,class:"flex items-center gap-1"},xe=["href"],he=o("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Termin vereinbaren",-1),we=P({__name:"Menu",async setup(G){let c,h;const D=W(),{pb:w}=J(),M=([c,h]=N(()=>w.collection("pages").getFullList(200,{sort:"-created",expand:"subpages"})),c=await c,h(),c),m=([c,h]=N(()=>w.collection("contactOptions").getFullList(200,{sort:"-order"})),c=await c,h(),c),s=V({menuIsOpen:!1,hoverIndex:null,menuEntryCount:0,top:0}),U=K(()=>{let t=M.filter(a=>a.inMenu===!0);t.sort((a,d)=>a.menuOrder-d.menuOrder);let i=0;for(const a of t)if(a.delay=i*100,i++,a.subpages.length>0)for(const d of a.expand.subpages)d.delay=i*100,i++;return s.menuEntryCount=i,t}),L=()=>{console.log("toggle"),s.menuIsOpen=!s.menuIsOpen},O=t=>{console.log("slug",t),t&&(s.menuIsOpen=!1)},q=t=>{const i=t.target.scrollTop;s.top=i},S=t=>{if(!(t!=null&&t.start)&&!(t!=null&&t.end))return!0;const i=new Date(t.start).getDay(),a=new Date(t.end).getDay(),d=s.currentTime.getDay();if(d<i||d>a)return!1;const v=new Date(t.start).getUTCHours(),b=new Date(t.end).getUTCHours();return console.log("link.end",t.end),console.log("link.end",new Date(t.end)),console.log("link.end",new Date(t.end).getUTCHours()),console.log("start",v),console.log("end",b),console.log("state.currentTime.getHours() >= start",s.currentTime.getUTCHours()>=v),console.log("state.currentTime.getHours() <= end",s.currentTime.getUTCHours()<=b),s.currentTime.getUTCHours()>=v&&s.currentTime.getUTCHours()<=b};return A(()=>{window.document.getElementById("content-container").addEventListener("scroll",q)}),Q(()=>{window.document.getElementById("content-container").removeEventListener("scroll",q)}),(t,i)=>{var v,b,z;const a=E,d=F;return n(),r("div",null,[o("div",{class:g([[l(s).menuIsOpen?"opacity-100 scale-100 pointer-events-auto":"scale-110 opacity-0 pointer-events-none"],"fixed z-30 bg-white top-0 left-0 w-full h-full transform transition-all select-none"])},[o("div",X,[o("div",Y,[o("div",Z,[p(a,{to:"/"},{default:x(()=>[T(" Eileen George ")]),_:1})]),o("button",{"aria-label":"Menü öffnen",onClick:L,class:"flex items-center justify-center rounded p-1"},[p(d,{name:"icon-cross",class:"text-3xl text-red"})])]),o("div",ee,[o("div",te,[(n(!0),r(_,null,y(l(U),(e,u)=>j((n(),r("div",{class:"relative",onMouseleave:i[0]||(i[0]=f=>l(s).hoverIndex=null)},[(n(),k(a,{onClick:f=>O(e.slug),to:e.slug==="index"?"/":e.slug,key:"menuEntry"+u,style:H([{transitionDelay:`${e.delay}ms`}]),class:g([[{hidden:!e.slug},l(s).menuIsOpen?"transition-all opacity-100":"opacity-0"],"select-none flex items-center transition-all px-3 py-1 rounded duration-300"])},{default:x(()=>[o("span",null,C(e.title),1)]),_:2},1032,["onClick","to","style","class"])),o("div",ne,[(n(!0),r(_,null,y(e.expand.subpages,(f,$)=>(n(),k(a,{onClick:_e=>O(e),to:f.slug==="index"?"/":f.slug,key:u+"subpage"+$,style:H([{transitionDelay:`${f.delay}ms`}]),class:g([[l(s).menuIsOpen?"transition-all opacity-100":"opacity-0"],"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"])},{default:x(()=>[T(C(f.title),1)]),_:2},1032,["onClick","to","style","class"]))),128))])],544)),[[B,e.inMenu]])),256))]),p(a,{onClick:i[1]||(i[1]=e=>O("buchen")),style:H([{transitionDelay:`${(l(s).menuEntryCount+1)*100}ms`}]),class:g([[l(s).menuIsOpen?"transition-all opacity-100":"opacity-0"],"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"]),to:"mailto:kontakt@eileengeorge.de?subject=Terminvereinbarung"},{default:x(()=>[oe]),_:1},8,["style","class"]),((v=l(m))==null?void 0:v.length)>0?(n(),r("div",se,[(n(!0),r(_,null,y(l(m),(e,u)=>(n(),r("a",{href:e.link,target:"_blank",key:"link"+u,class:g([[S(e)?"block":"hidden"],"flex items-center justify-center w-8 h-8 rounded-lg"])},[p(d,{name:e.icon,class:"text-2xl text-coffee"},null,8,["name"])],10,le))),128))])):I("",!0)])])],2),o("div",{class:g([[l(s).top>0?"bg-white shadow-xl shadow-coffee/5":"shadow-sm",l(D).token?"absolute":"fixed"],"top-0 left-0 w-full z-20 text-white transition duration-100"])},[o("div",ae,[o("div",{class:g([[l(s).top>0?"py-4 lg:py-4":"py-4 lg:py-6"],"flex items-center justify-between transition-all duration-150"])},[o("div",re,[p(a,{to:"/"},{default:x(()=>[T(" Eileen George ")]),_:1})]),o("div",ie,[((b=l(m))==null?void 0:b.length)>0?(n(),r("div",ce,[(n(!0),r(_,null,y(l(m),(e,u)=>j((n(),r("a",{href:e.link,target:"_blank",key:"link"+u,class:g([[S(e)?"block":"hidden"],"flex items-center justify-center w-6 h-6 rounded group"])},[p(d,{name:e.icon,class:"text-2xl text-coffee group-hover:text-gold transition"},null,8,["name"])],10,de)),[[B,!e.hiddenInMobileMenu]])),128))])):I("",!0),o("button",{"aria-label":"Menü öffnen",onClick:L,class:"flex items-center justify-center rounded p-1"},[p(d,{name:"icon-menu",class:"text-2xl text-coffee"})])]),o("div",ue,[(n(!0),r(_,null,y(l(U),(e,u)=>j((n(),r("div",{class:"relative",onMouseleave:i[2]||(i[2]=f=>l(s).hoverIndex=null)},[(n(),k(a,{to:e.slug==="index"?"/":e.slug,onMouseenter:f=>l(s).hoverIndex=u,key:"menuEntry"+u,class:"flex select-none items-center transition-all px-3 py-1 rounded"},{default:x(()=>[o("div",null,C(e.title),1),e.subpages.length>0?(n(),r("div",fe,[p(d,{name:"icon-triangle_down"})])):I("",!0)]),_:2},1032,["to","onMouseenter"])),o("div",{class:g([[e.subpages.length>0&&l(s).hoverIndex===u?"select-auto opacity-100 bottom-0":"select-none opacity-0 bottom-2"],"absolute left-1 transform translate-y-full flex flex-col items-center -ml-3 transition-all"])},[o("div",pe,[(n(!0),r(_,null,y(e.expand.subpages,(f,$)=>(n(),k(a,{to:f.slug==="index"?"/":f.slug,key:u+"subpage"+$,class:"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"},{default:x(()=>[T(C(f.title),1)]),_:2},1032,["to"]))),128))])],2)],544)),[[B,e.inMenu]])),256))]),o("div",ge,[((z=l(m))==null?void 0:z.length)>0?(n(),r("div",me,[(n(!0),r(_,null,y(l(m),(e,u)=>(n(),r("a",{href:e.link,target:"_blank",key:"link"+u,class:g([[S(e)?"block":"hidden"],"flex items-center justify-center w-6 h-6 rounded group"])},[p(d,{name:e.icon,class:"text-2xl text-coffee group-hover:text-gold transition"},null,8,["name"])],10,xe))),128))])):I("",!0),p(a,{to:"mailto:kontakt@eileengeorge.de?subject=Terminvereinbarung",class:"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"},{default:x(()=>[he]),_:1})])],2)])],2)])}}}),Te=P({__name:"UpButton",setup(G){const c=V({threshold:500,visible:!1}),h=w=>{document.querySelector("#content-container").scrollTop>c.threshold?c.visible=!0:c.visible=!1},D=()=>{document.querySelector("#content-container").scrollTo({top:0,behavior:"smooth"})};return A(()=>{document.querySelector("#content-container").addEventListener("scroll",h)}),R(()=>{document.querySelector("#content-container").removeEventListener("scroll",h)}),(w,M)=>{const m=F;return n(),r("button",{onClick:D,class:g([[l(c).visible?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"],"fixed bottom-4 md:bottom-6 right-5 md:right-10 flex items-center justify-center rounded-full shadow-xl bg-white p-2 md:p-4 border border-grey border-opacity-10 transition duration-500"])},[p(m,{name:"icon-arrow_up",class:"text-xl text-darkGrey"})],2)}}});export{we as _,Te as a};
