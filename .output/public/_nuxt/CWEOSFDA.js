import{_ as E}from"./DAH05frA.js";import{_ as S}from"./DYqNPgwz.js";import{f as U,r as D,o as s,c as a,a as t,b,w as $,t as _,S as q,n as u,F as i,x as B,z as x,d as f,A as w,E as y,v as g,p as R,e as M,T}from"./COIFjB77.js";import{u as j}from"./BZLTNPPK.js";import{u as z}from"./EqJpNlPG.js";import{d as L}from"./F1WjrixK.js";import{_ as A}from"./DlAUqK2U.js";import"./BH53taJr.js";import"./_5FELiyH.js";const d=r=>(R("data-v-e605cedb"),r=r(),M(),r),O={class:"mb-28"},P={class:"max-container"},G={class:"flex items-center justify-center"},H={class:"shiny-pop text-salmon font-heading text-lg sm:text-xl md:text-3xl lg:text-4xl mb-16 text-center"},J={class:"flex flex-col lg:flex-row gap-16"},K={class:"-ml-[3%] -mr-[5%] lg:mx-auto w-auto lg:w-2/3"},Q={class:"bg-white shadow-2xl shadow-coffee/20 py-5 px-10"},W={key:0,class:"flex flex-wrap -mx-3"},X=["for"],Y=["id","onUpdate:modelValue"],Z=["id","onUpdate:modelValue"],ee={key:2,class:"mt-1 rounded text-red bg-lightRed/60 px-2 py-[2px] text-sm"},te=d(()=>t("div",{class:""},"Nachricht senden",-1)),se=[te],ae={key:1,class:"h-60 flex flex-col items-start justify-center"},oe={key:0,class:"animate-spin"},le=d(()=>t("div",{class:"font-heading text-2xl mb-2"},"Vielen Dank!",-1)),ne=d(()=>t("p",{class:"max-w-[24em]"}," Deine Nachricht ist bei mir eingegangen. Ich melde mich sobald wie möglich bei Dir. ",-1)),re=d(()=>t("div",{class:"font-heading text-2xl mb-2 text-red"},"Oh!",-1)),ie=d(()=>t("p",{class:"max-w-[24em]"},[f(" Bei dem Versand Deiner Nachricht ist ein Fehler aufgetreten. Versuche es bitte erneut. Falls der Fehler bestehen bleibt, sende mir bitte eine E-Mail an "),t("a",{href:"mailto:kontakt@eileengeorge.de",class:"underline"},"kontakt@eileengeorge.de"),f(". ")],-1)),ce=U({__name:"Contact",props:{component:{default:{content:L.find(r=>r.type==="contact").content}}},setup(r){const{sendMail:k}=z(),V=T(),c=r,o=D({form:[{name:"firstName",validation:"required",label:"Vorname",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"lastName",validation:"required",label:"Nachname",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"mail",validation:"required",label:"E-Mail",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"phone",validation:"",label:"Telefonnummer",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"message",validation:"required",label:"Nachricht",type:"textarea",value:"",class:"w-full",error:""}],pending:!1,submitted:!1,success:!1}),I=n=>j()(`${V.public.SERVER_URL}/api/files/${c.component.collectionName}/${c.component.id}/${n}`,{format:"webp"}),p=()=>{let n=[];for(let l of o.form)l.validation==="required"&&(l.value?l.error="":(l.error="Fülle bitte dieses Feld aus.",n.push(1)));return!(n.length>0)},N=()=>{let n={};return o.form.forEach(l=>{n[l.name]=l.value}),n},F=async()=>{var n;o.pending=!0;try{if(!p())return;await k("contactForm",(n=c.component.content)==null?void 0:n.recipient,N()),o.pending=!1,o.submitted=!0,o.success=!0}catch(l){console.log("error sending contact form",l),o.pending=!1,o.submitted=!0,o.success=!1}};return(n,l)=>{const v=E,C=S;return s(),a("div",O,[t("div",P,[t("div",G,[b(v,null,{default:$(()=>{var e;return[t("h2",H,_((e=c.component.content)==null?void 0:e.heading),1)]}),_:1})]),t("div",J,[t("div",{style:q([{backgroundImage:`url(${I(c.component.content.image)})`}]),class:"flex-grow bg-cover shadow-2xl shadow-coffee/20 w-full h-60 lg:h-auto lg:w-1/3 rounded"},null,4),t("div",K,[t("div",Q,[u(o).submitted?(s(),a("div",ae,[u(o).pending?(s(),a("div",oe,[b(C,{name:"icon-pending",class:"text-4xl text-black animate-spin"})])):(s(),a(i,{key:1},[u(o).success?(s(),a(i,{key:0},[le,ne],64)):(s(),a(i,{key:1},[re,ie],64))],64))])):(s(),a("div",W,[(s(!0),a(i,null,B(u(o).form,(e,m)=>(s(),a("div",{key:"formElement"+m,class:x([[e.class],"px-2 mt-3"])},[t("label",{for:"input"+m,class:"text-sm block ml-1"},[f(_(e.label)+" ",1),e.validation==="required"?(s(),a(i,{key:0},[],64)):(s(),a(i,{key:1},[f(" (optional) ")],64))],8,X),e.type==="text"?w((s(),a("input",{key:0,id:"input"+m,type:"text","onUpdate:modelValue":h=>e.value=h,onInput:p,class:x([[e.error.length?"border !border-red":""],"input-class"])},null,42,Y)),[[y,e.value]]):g("",!0),e.type==="textarea"?w((s(),a("textarea",{key:1,id:"input"+m,"onUpdate:modelValue":h=>e.value=h,onInput:p,class:x(["input-class min-h-[200px]",[e.error?"border !border-red":""]])},null,42,Z)),[[y,e.value]]):g("",!0),e.error?(s(),a("div",ee,_(e.error),1)):g("",!0)],2))),128)),t("div",{class:"flex justify-end w-full mr-3 mt-3"},[t("button",{onClick:F,class:"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"},se)])]))])])])])])}}}),ve=A(ce,[["__scopeId","data-v-e605cedb"]]);export{ve as default};
