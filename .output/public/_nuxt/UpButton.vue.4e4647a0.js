import{_ as z}from"./nuxt-link.05a3ee8f.js";import{_ as T}from"./nuxt-icon.vue.2e5ae816.js";import{a as q,b as P,m as U,ae as V,r as D,B as F,p as G,P as A,o as a,f as d,h as e,i as u,O as f,C as _,F as g,j as v,q as j,y as L,u as s,c as y,t as b,Q as B,x as m,l as E,U as Q}from"./entry.e5944ccf.js";const H={class:"max-container w-full"},J={class:"flex items-center justify-between py-4 mb-10"},K={class:"font-heading text-lg text-coffee"},R={class:"flex flex-col items-start gap-6"},W={class:"flex flex-col items-start gap-4"},X={class:"flex flex-col gap-3"},Y=e("div",{class:"font-bold"},"Buchen",-1),Z={class:"flex items-center justify-center bg-gradient-to-b from-gold via-lightGold to-darkGold rounded-full ml-2 w-4 h-4"},ee={class:"max-container w-full"},te={class:"font-heading text-lg lg:text-2xl text-coffee"},oe={class:"lg:hidden"},ne={class:"hidden lg:flex items-center gap-4 text-coffee"},se={key:0,class:"ml-1"},le={class:"bg-sand bg-opacity-100 flex flex-col rounded shadow-lg px-2 py-2 mt-3 gap-2"},ae={class:"hidden lg:block"},ie=e("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Buchen",-1),pe=q({__name:"Menu",async setup(N){let c,h;const w=P(),{pb:k}=U(),C=([c,h]=V(()=>k.collection("pages").getFullList(200,{sort:"-created",expand:"subpages"})),c=await c,h(),c),t=D({menuIsOpen:!1,hoverIndex:null,menuEntryCount:0,top:0}),O=F(()=>{let r=C.filter(n=>n.inMenu===!0);r.sort((n,p)=>n.menuOrder-p.menuOrder);let l=0;for(const n of r)if(n.delay=l*100,l++,n.subpages.length>0)for(const p of n.expand.subpages)p.delay=l*100,l++;return t.menuEntryCount=l,r}),S=()=>{console.log("toggle"),t.menuIsOpen=!t.menuIsOpen},I=r=>{console.log("slug",r),r&&(t.menuIsOpen=!1)},$=r=>{const l=r.target.scrollTop;t.top=l};return G(()=>{window.document.getElementById("content-container").addEventListener("scroll",$)}),A(()=>{window.document.getElementById("content-container").removeEventListener("scroll",$)}),(r,l)=>{const n=z,p=T;return a(),d("div",null,[e("div",{class:m([[s(t).menuIsOpen?"opacity-100 scale-100 pointer-events-auto":"scale-110 opacity-0 pointer-events-none"],"fixed z-30 bg-white top-0 left-0 w-full h-full transform transition-all select-none"])},[e("div",H,[e("div",J,[e("div",K,[u(n,{to:"/"},{default:f(()=>[_(" Eileen George ")]),_:1})]),e("button",{"aria-label":"Menü öffnen",onClick:S,class:"flex items-center justify-center rounded p-1"},[u(p,{name:"icon-cross",class:"text-3xl text-red"})])]),e("div",R,[e("div",W,[(a(!0),d(g,null,v(s(O),(o,x)=>j((a(),d("div",{class:"relative",onMouseleave:l[0]||(l[0]=i=>s(t).hoverIndex=null)},[(a(),y(n,{onClick:i=>I(o.slug),to:o.slug==="index"?"/":o.slug,key:"menuEntry"+x,style:B([{transitionDelay:`${o.delay}ms`}]),class:m([[{hidden:!o.slug},s(t).menuIsOpen?"transition-all opacity-100":"opacity-0"],"select-none flex items-center transition-all px-3 py-1 rounded duration-300"])},{default:f(()=>[e("span",null,b(o.title),1)]),_:2},1032,["onClick","to","style","class"])),e("div",X,[(a(!0),d(g,null,v(o.expand.subpages,(i,M)=>(a(),y(n,{onClick:ce=>I(o),to:i.slug==="index"?"/":i.slug,key:x+"subpage"+M,style:B([{transitionDelay:`${i.delay}ms`}]),class:m([[s(t).menuIsOpen?"transition-all opacity-100":"opacity-0"],"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"])},{default:f(()=>[_(b(i.title),1)]),_:2},1032,["onClick","to","style","class"]))),128))])],544)),[[L,o.inMenu]])),256))]),u(n,{onClick:l[1]||(l[1]=o=>I("buchen")),to:"/buchen",style:B([{transitionDelay:`${(s(t).menuEntryCount+1)*100}ms`}]),class:m([[s(t).menuIsOpen?"transition-all opacity-100":"opacity-0"],"border-2 border-gold rounded flex items-center px-3 py-2 duration-300"])},{default:f(()=>[Y,e("div",Z,[u(p,{name:"icon-caret-right",class:"text-sm text-coffee"})])]),_:1},8,["style","class"])])])],2),e("div",{class:m([[s(t).top>0?"bg-white shadow-xl shadow-coffee/5":"shadow-sm",s(w).token?"absolute":"fixed"],"top-0 left-0 w-full z-20 text-white transition duration-100"])},[e("div",ee,[e("div",{class:m([[s(t).top>0?"py-4 lg:py-4":"py-4 lg:py-6"],"flex items-center justify-between transition-all duration-150"])},[e("div",te,[u(n,{to:"/"},{default:f(()=>[_(" Eileen George ")]),_:1})]),e("div",oe,[e("button",{"aria-label":"Menü öffnen",onClick:S,class:"flex items-center justify-center rounded p-1"},[u(p,{name:"icon-menu",class:"text-2xl text-coffee"})])]),e("div",ne,[(a(!0),d(g,null,v(s(O),(o,x)=>j((a(),d("div",{class:"relative",onMouseleave:l[2]||(l[2]=i=>s(t).hoverIndex=null)},[(a(),y(n,{to:o.slug==="index"?"/":o.slug,onMouseenter:i=>s(t).hoverIndex=x,key:"menuEntry"+x,class:"flex select-none items-center transition-all px-3 py-1 rounded"},{default:f(()=>[e("div",null,b(o.title),1),o.subpages.length>0?(a(),d("div",se,[u(p,{name:"icon-triangle_down"})])):E("",!0)]),_:2},1032,["to","onMouseenter"])),e("div",{class:m([[o.subpages.length>0&&s(t).hoverIndex===x?"select-auto opacity-100 bottom-0":"select-none opacity-0 bottom-2"],"absolute left-1 transform translate-y-full flex flex-col items-center -ml-3 transition-all"])},[e("div",le,[(a(!0),d(g,null,v(o.expand.subpages,(i,M)=>(a(),y(n,{to:i.slug==="index"?"/":i.slug,key:x+"subpage"+M,class:"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"},{default:f(()=>[_(b(i.title),1)]),_:2},1032,["to"]))),128))])],2)],544)),[[L,o.inMenu]])),256))]),e("div",ae,[u(n,{to:"/buchen",class:"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"},{default:f(()=>[ie]),_:1})])],2)])],2)])}}}),fe=q({__name:"UpButton",setup(N){const c=D({threshold:500,visible:!1}),h=k=>{document.querySelector("#content-container").scrollTop>c.threshold?c.visible=!0:c.visible=!1},w=()=>{document.querySelector("#content-container").scrollTo({top:0,behavior:"smooth"})};return G(()=>{document.querySelector("#content-container").addEventListener("scroll",h)}),Q(()=>{document.querySelector("#content-container").removeEventListener("scroll",h)}),(k,C)=>{const t=T;return a(),d("button",{onClick:w,class:m([[s(c).visible?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"],"fixed bottom-4 md:bottom-6 right-5 md:right-10 flex items-center justify-center rounded-full shadow-xl bg-white p-2 md:p-4 border border-grey border-opacity-10 transition duration-500"])},[u(t,{name:"icon-arrow_up",class:"text-xl text-darkGrey"})],2)}}});export{pe as _,fe as a};
