import{E as I,G as P,u as W,aa as H,ab as M,ac as R,J as k,H as g,B as b}from"./entry.7d49cd86.js";function S(e){return I()?(P(e),!0):!1}function w(e){return typeof e=="function"?e():W(e)}const L=typeof window<"u",O=()=>{},y=B();function B(){var e;return L&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}const _={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function N(...e){if(e.length!==1)return H(...e);const t=e[0];return typeof t=="function"?M(R(()=>({get:t,set:O}))):k(t)}function v(e){var t;const o=w(e);return(t=o==null?void 0:o.$el)!=null?t:o}const C=L?window:void 0;function m(...e){let t,o,n,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,n,i]=e,t=C):[t,o,n,i]=e,!t)return O;Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);const l=[],d=()=>{l.forEach(a=>a()),l.length=0},s=(a,p,r,u)=>(a.addEventListener(p,r,u),()=>a.removeEventListener(p,r,u)),c=g(()=>[v(t),w(i)],([a,p])=>{d(),a&&l.push(...o.flatMap(r=>n.map(u=>s(a,r,u,p))))},{immediate:!0,flush:"post"}),h=()=>{c(),d()};return S(h),h}let A=!1;function E(e,t,o={}){const{window:n=C,ignore:i=[],capture:l=!0,detectIframe:d=!1}=o;if(!n)return;y&&!A&&(A=!0,Array.from(n.document.body.children).forEach(r=>r.addEventListener("click",O)));let s=!0;const c=r=>i.some(u=>{if(typeof u=="string")return Array.from(n.document.querySelectorAll(u)).some(f=>f===r.target||r.composedPath().includes(f));{const f=v(u);return f&&(r.target===f||r.composedPath().includes(f))}}),a=[m(n,"click",r=>{const u=v(e);if(!(!u||u===r.target||r.composedPath().includes(u))){if(r.detail===0&&(s=!c(r)),!s){s=!0;return}t(r)}},{passive:!0,capture:l}),m(n,"pointerdown",r=>{const u=v(e);u&&(s=!r.composedPath().includes(u)&&!c(r))},{passive:!0}),d&&m(n,"blur",r=>{var u;const f=v(e);((u=n.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(f!=null&&f.contains(n.document.activeElement))&&t(r)})].filter(Boolean);return()=>a.forEach(r=>r())}const q={[_.mounted](e,t){const o=!t.modifiers.bubble;if(typeof t.value=="function")e.__onClickOutside_stop=E(e,t.value,{capture:o});else{const[n,i]=t.value;e.__onClickOutside_stop=E(e,n,Object.assign({capture:o},i))}},[_.unmounted](e){e.__onClickOutside_stop()}};function D(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientHeight<e.scrollHeight||t.overflowY==="auto"&&e.clientWidth<e.scrollWidth)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:D(o)}}function Y(e){const t=e||window.event,o=t.target;return D(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function X(e,t=!1){const o=k(t);let n=null,i;g(N(e),s=>{if(s){const c=s;i=c.style.overflow,o.value&&(c.style.overflow="hidden")}},{immediate:!0});const l=()=>{const s=w(e);!s||o.value||(y&&(n=m(s,"touchmove",c=>{Y(c)},{passive:!1})),s.style.overflow="hidden",o.value=!0)},d=()=>{const s=w(e);!s||!o.value||(y&&(n==null||n()),s.style.overflow=i,o.value=!1)};return S(d),b({get(){return o.value},set(s){s?l():d()}})}function $(){let e=!1;const t=k(!1);return(o,n)=>{if(t.value=n.value,e)return;e=!0;const i=X(o,n.value);g(t,l=>i.value=l)}}$();export{q as v};
