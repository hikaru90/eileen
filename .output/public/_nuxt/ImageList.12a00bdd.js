import{_ as S}from"./ArrayPane.vue.a93653ff.js";import{_ as $}from"./nuxt-icon.vue.31f2b8d4.js";import{a as O,k as R,s as I,m as B,e as F,r as D,o as l,f as u,h as e,q as d,v as i,u as t,t as _,F as y,j as x,c as T,O as A,R as E,i as j,W as H}from"./entry.bb92167b.js";import{u as L}from"./composables.895b8bf5.js";import"./image-options.f0808f8e.js";const N={class:"p-4"},z={class:"mb-4"},P=e("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),q={class:"mb-4"},G=e("h2",{class:"text-xs mb-2 opacity-40"},"Image",-1),M={class:"mb-2 flex items-center justify-between"},W=e("h2",{class:"text-xs opacity-40"},"Slides",-1),J={class:"py-1px px-2 rounded-full bg-offwhite text-xs text-coffee font-bold flex items-center justify-center"},K={class:"mb-4"},Q={class:"px-2"},X=e("h2",{class:"text-xs mb-2 opacity-40"},"Typ",-1),Y=["onUpdate:modelValue"],Z=e("h2",{class:"text-xs mb-2 opacity-40"},"Ort",-1),ee=["onUpdate:modelValue"],te=e("h2",{class:"text-xs mb-2 opacity-40"},"Name",-1),se=["onUpdate:modelValue"],oe=e("h2",{class:"text-xs opacity-40"},"Dateien",-1),ne={class:"flex items-center gap-2"},ae=["onClick"],me=O({__name:"ImageList",setup(re){const f=R(),{setComponentContent:le,saveContent:a,deleteFile:v}=f,{componentContent:r,componentId:g,componentType:h,componentFiles:w}=I(f),{pb:C}=B(),k=F();D({heading:""});const U=async c=>{const s=new FormData;for(let m of c.target.files)s.append("files",m);const p=await C.collection(h.value+"s").update(g.value,s);console.log("createdRecord",p),H.emit("refresh")},V=c=>L()(`${k.SERVER_URL}/api/files/${h.value+"s"}/${g.value}/${c}?thumb=160x90f`,{format:"webp"});return(c,s)=>{const p=S,m=$;return l(),u("div",N,[e("div",z,[P,d(e("input",{onChange:s[0]||(s[0]=(...o)=>t(a)&&t(a)(...o)),"onUpdate:modelValue":s[1]||(s[1]=o=>t(r).heading=o),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[i,t(r).heading]])]),e("div",q,[G,d(e("input",{onChange:s[2]||(s[2]=(...o)=>t(a)&&t(a)(...o)),"onUpdate:modelValue":s[3]||(s[3]=o=>t(r).image=o),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[i,t(r).image]])]),e("div",M,[W,e("div",J,_(t(r).list.length),1)]),e("div",K,[(l(!0),u(y,null,x(t(r).list,(o,b)=>(l(),T(p,{onArrayChanged:t(a),key:"item"+b,array:t(r).slides,entry:o,index:b},{default:A(()=>[e("div",Q,[X,d(e("input",{onChange:s[4]||(s[4]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.type=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,Y),[[i,o.type]]),Z,d(e("input",{onChange:s[5]||(s[5]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.place=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,ee),[[i,o.place]]),te,d(e("input",{onChange:s[6]||(s[6]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.name=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,se),[[i,o.name]])])]),_:2},1032,["onArrayChanged","array","entry","index"]))),128)),e("button",{onClick:s[7]||(s[7]=o=>t(r).list.push({type:"Ausbildung",place:"IGST Heidelberg",name:"Systemische Sexualtherapie"})),class:"rounded-sm hover:bg-white hover:bg-opacity-20 px-2 border border-darkOffwhite border-opacity-20"}," HinzufÃ¼gen ")]),oe,(l(!0),u(y,null,x(t(w),(o,b)=>(l(),u("div",ne,[e("div",{style:E([{backgroundImage:`url(${V(o)})`}]),class:"w-10 h-10 bg-cover bg-no-repeat bg-center"},null,4),e("span",null,_(o),1),e("button",{onClick:n=>t(v)(o),class:"border border-red rounded-sm"},[j(m,{name:"icon-cross",class:"text-red text-xl"})],8,ae)]))),256)),e("input",{onChange:U,type:"file",class:"mt-2"},null,32)])}}});export{me as default};
