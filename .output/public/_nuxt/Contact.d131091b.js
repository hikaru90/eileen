import{_ as F}from"./nuxt-icon.vue.2e5ae816.js";import{a as S,e as U,r as q,o as t,f as s,h as e,t as _,Q as E,u,F as i,j as $,x,C as f,q as y,v as w,l as g,i as B,z as R,A as j}from"./entry.e5944ccf.js";import{u as z}from"./composables.0ba61d80.js";import{u as D}from"./useBrevo.e7ce1c74.js";import{d as M}from"./defaults.6c4b5884.js";import{_ as T}from"./_plugin-vue_export-helper.c27b6911.js";import"./image-options.bb1a347e.js";const d=r=>(R("data-v-1db8aaaa"),r=r(),j(),r),L={class:"mb-28"},A={class:"max-container"},O={class:"flex items-center justify-center"},Q={class:"font-heading text-lg sm:text-xl md:text-3xl lg:text-4xl mb-16 text-center text-coffee"},G={class:"flex flex-col lg:flex-row gap-16"},H={class:"-ml-[3%] -mr-[5%] lg:mx-auto w-auto lg:w-2/3"},J={class:"bg-white shadow-2xl shadow-coffee/20 py-5 px-10"},K={key:0,class:"flex flex-wrap -mx-3"},P=["for"],W=["id","onUpdate:modelValue"],X=["id","onUpdate:modelValue"],Y={key:2,class:"mt-1 rounded text-red bg-lightRed/60 px-2 py-[2px] text-sm"},Z=d(()=>e("div",{class:""},"Nachricht senden",-1)),ee=[Z],te={key:1,class:"h-60 flex flex-col items-start justify-center"},se={key:0,class:"animate-spin"},ae=d(()=>e("div",{class:"font-heading text-2xl mb-2"},"Vielen Dank!",-1)),oe=d(()=>e("p",{class:"max-w-[24em]"}," Ihre Nachricht ist bei mir eingegangen. Ich melde mich sobald wie möglich bei Ihnen. ",-1)),le=d(()=>e("div",{class:"font-heading text-2xl mb-2 text-red"},"Oh!",-1)),ne=d(()=>e("p",{class:"max-w-[24em]"},[f(" Bei dem Versand Ihrer Nachricht ist ein Fehler aufgetreten. Versuchen Sie es bitte erneut. Falls der Fehler bestehen bleibt, senden Sie mir bitte eine E-Mail an "),e("a",{href:"mailto:kontakt@dimplegoertz.de",class:"underline"},"kontakt@eileengeorge.de"),f(". ")],-1)),re=S({__name:"Contact",props:{component:{default:{content:M.find(r=>r.type==="contact").content}}},setup(r){const c=r,{sendMail:k}=D(),I=U(),a=q({form:[{name:"firstName",validation:"required",label:"Vorname",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"lastName",validation:"required",label:"Nachname",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"mail",validation:"required",label:"E-Mail",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"phone",validation:"",label:"Telefonnummer",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"message",validation:"required",label:"Nachricht",type:"textarea",value:"",class:"w-full",error:""}],pending:!1,submitted:!1,success:!1}),V=n=>z()(`${I.SERVER_URL}/api/files/${c.component.collectionName}/${c.component.id}/${n}`,{format:"webp"}),h=()=>{let n=[];for(let l of a.form)l.validation==="required"&&(l.value?l.error="":(l.error="Füllen Sie bitte dieses Feld aus.",n.push(1)));return!(n.length>0)},N=()=>{let n={};return a.form.forEach(l=>{n[l.name]=l.value}),n},C=async()=>{var n;a.pending=!0;try{if(!h())return;await k("contactForm",(n=c.component.content)==null?void 0:n.recipient,N()),a.pending=!1,a.submitted=!0,a.success=!0}catch(l){console.log("error sending contact form",l),a.pending=!1,a.submitted=!0,a.success=!1}};return(n,l)=>{var b;const v=F;return t(),s("div",L,[e("div",A,[e("div",O,[e("h2",Q,_((b=c.component.content)==null?void 0:b.heading),1)]),e("div",G,[e("div",{style:E([{backgroundImage:`url(${V(c.component.content.image)})`}]),class:"flex-grow bg-cover shadow-2xl shadow-coffee/20 w-full h-60 lg:h-auto lg:w-1/3 rounded"},null,4),e("div",H,[e("div",J,[u(a).submitted?(t(),s("div",te,[u(a).pending?(t(),s("div",se,[B(v,{name:"icon-pending",class:"text-4xl text-black animate-spin"})])):(t(),s(i,{key:1},[u(a).success?(t(),s(i,{key:0},[ae,oe],64)):(t(),s(i,{key:1},[le,ne],64))],64))])):(t(),s("div",K,[(t(!0),s(i,null,$(u(a).form,(o,m)=>(t(),s("div",{key:"formElement"+m,class:x([[o.class],"px-2 mt-3"])},[e("label",{for:"input"+m,class:"text-sm font-bold block ml-1"},[f(_(o.label)+" ",1),o.validation==="required"?(t(),s(i,{key:0},[],64)):(t(),s(i,{key:1},[f(" (optional) ")],64))],8,P),o.type==="text"?y((t(),s("input",{key:0,id:"input"+m,type:"text","onUpdate:modelValue":p=>o.value=p,onInput:h,class:x([[o.error.length?"border !border-red":""],"input-class"])},null,42,W)),[[w,o.value]]):g("",!0),o.type==="textarea"?y((t(),s("textarea",{key:1,id:"input"+m,"onUpdate:modelValue":p=>o.value=p,onInput:h,class:x(["input-class min-h-[200px]",[o.error?"border !border-red":""]])},null,42,X)),[[w,o.value]]):g("",!0),o.error?(t(),s("div",Y,_(o.error),1)):g("",!0)],2))),128)),e("div",{class:"flex justify-end w-full mr-3 mt-3"},[e("button",{onClick:C,class:"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"},ee)])]))])])])])])}}});const pe=T(re,[["__scopeId","data-v-1db8aaaa"]]);export{pe as default};
