import{_ as R}from"./ArrayPane.vue.7a763e18.js";import{_ as $}from"./nuxt-icon.vue.8fa6a788.js";import{a as B,k as S,s as F,m as D,e as E,r as I,o as l,f as m,h as e,E as i,J as d,u as t,t as x,F as h,j as y,c as O,N as T,P as j,i as A,W as L}from"./entry.460231ed.js";import{u as N}from"./composables.505ad0ba.js";import"./image-options.0c048f35.js";const P={class:"p-4"},z={class:"mb-4"},H=e("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),J={class:"mb-2 flex items-center justify-between"},M=e("h2",{class:"text-xs opacity-40"},"Slides",-1),W={class:"py-1px px-2 rounded-full bg-offwhite text-xs text-coffee font-bold flex items-center justify-center"},q={class:"mb-4"},G={class:"px-2"},K=e("h2",{class:"text-xs mb-2 opacity-40"},"Titel",-1),Q=["onUpdate:modelValue"],X=e("h2",{class:"text-xs mb-2 opacity-40"},"Link",-1),Y=["onUpdate:modelValue"],Z=e("h2",{class:"text-xs mb-2 opacity-40"},"Bild",-1),ee=["onUpdate:modelValue"],te=e("h2",{class:"text-xs mb-2 opacity-40"},"Text",-1),oe=["onUpdate:modelValue"],se=e("h2",{class:"text-xs opacity-40"},"Dateien",-1),ne={class:"flex items-center gap-2"},ae=["onClick"],ue=B({__name:"ImageRotation",setup(re){const _=S(),{setComponentContent:le,saveContent:a,deleteFile:v}=_,{componentContent:r,componentId:b,componentType:g,componentFiles:w}=F(_),{pb:C}=D(),k=E();I({heading:""});const U=async c=>{const s=new FormData;for(let u of c.target.files)s.append("files",u);const p=await C.collection(g.value+"s").update(b.value,s);console.log("createdRecord",p),L.emit("refresh")},V=c=>N()(`${k.SERVER_URL}/api/files/${g.value+"s"}/${b.value}/${c}?thumb=160x90f`,{format:"webp"});return(c,s)=>{const p=R,u=$;return l(),m("div",P,[e("div",z,[H,i(e("input",{onChange:s[0]||(s[0]=(...o)=>t(a)&&t(a)(...o)),"onUpdate:modelValue":s[1]||(s[1]=o=>t(r).heading=o),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[d,t(r).heading]])]),e("div",J,[M,e("div",W,x(t(r).slides.length),1)]),e("div",q,[(l(!0),m(h,null,y(t(r).slides,(o,f)=>(l(),O(p,{onArrayChanged:t(a),key:"slide"+f,array:t(r).slides,entry:o,index:f},{default:T(()=>[e("div",G,[K,i(e("input",{onChange:s[2]||(s[2]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.text=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,Q),[[d,o.text]]),X,i(e("input",{onChange:s[3]||(s[3]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.link=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,Y),[[d,o.link]]),Z,i(e("input",{onChange:s[4]||(s[4]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.image=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,ee),[[d,o.image]]),te,i(e("textarea",{onChange:s[5]||(s[5]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.description=n,rows:"4",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,40,oe),[[d,o.description]])])]),_:2},1032,["onArrayChanged","array","entry","index"]))),128))]),se,(l(!0),m(h,null,y(t(w),(o,f)=>(l(),m("div",ne,[e("div",{style:j([{backgroundImage:`url(${V(o)})`}]),class:"w-10 h-10 bg-cover bg-no-repeat bg-center"},null,4),e("span",null,x(o),1),e("button",{onClick:n=>t(v)(o),class:"border border-red rounded-sm"},[A(u,{name:"icon-cross",class:"text-red text-xl"})],8,ae)]))),256)),e("input",{onChange:U,type:"file",class:"mt-2"},null,32)])}}});export{ue as default};
