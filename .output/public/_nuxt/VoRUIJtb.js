import{_ as R}from"./D0KuBZp3.js";import{_ as S}from"./DIt6DktN.js";import{f as B,h as F,s as T,u as A,r as D,o as l,c as u,a as e,A as i,E as d,n as t,t as g,F as h,x as y,q as I,w as O,S as E,b as L,y as N,T as j}from"./cWgfitSV.js";import{u as P}from"./CNowSmbe.js";import"./Di7sVWHF.js";const q={class:"p-4"},z={class:"mb-4"},H=e("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),M={class:"mb-2 flex items-center justify-between"},G=e("h2",{class:"text-xs opacity-40"},"Slides",-1),J={class:"py-1px px-2 rounded-full bg-offwhite text-xs text-coffee font-bold flex items-center justify-center"},K={class:"mb-4"},Q={class:"px-2"},W=e("h2",{class:"text-xs mb-2 opacity-40"},"Titel",-1),X=["onUpdate:modelValue"],Y=e("h2",{class:"text-xs mb-2 opacity-40"},"Link",-1),Z=["onUpdate:modelValue"],ee=e("h2",{class:"text-xs mb-2 opacity-40"},"Bild",-1),te=["onUpdate:modelValue"],oe=e("h2",{class:"text-xs mb-2 opacity-40"},"Text",-1),se=["onUpdate:modelValue"],ne=e("h2",{class:"text-xs opacity-40"},"Dateien",-1),ae={class:"flex items-center gap-2"},re=["onClick"],fe=B({__name:"ImageRotation",setup(le){const{$event:w}=N(),b=F(),{setComponentContent:ie,saveContent:a,deleteFile:v}=b,{componentContent:r,componentId:_,componentType:x,componentFiles:C}=T(b),{pb:k}=A(),U=j();D({heading:""});const V=async c=>{const s=new FormData;for(let m of c.target.files)s.append("files",m);const p=await k.collection(x.value+"s").update(_.value,s);console.log("createdRecord",p),w("refresh")},$=c=>P()(`${U.public.SERVER_URL}/api/files/${x.value+"s"}/${_.value}/${c}?thumb=160x90f`,{format:"webp"});return(c,s)=>{const p=R,m=S;return l(),u("div",q,[e("div",z,[H,i(e("input",{onChange:s[0]||(s[0]=(...o)=>t(a)&&t(a)(...o)),"onUpdate:modelValue":s[1]||(s[1]=o=>t(r).heading=o),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[d,t(r).heading]])]),e("div",M,[G,e("div",J,g(t(r).slides.length),1)]),e("div",K,[(l(!0),u(h,null,y(t(r).slides,(o,f)=>(l(),I(p,{onArrayChanged:t(a),key:"slide"+f,array:t(r).slides,entry:o,index:f},{default:O(()=>[e("div",Q,[W,i(e("input",{onChange:s[2]||(s[2]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.text=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,X),[[d,o.text]]),Y,i(e("input",{onChange:s[3]||(s[3]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.link=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,Z),[[d,o.link]]),ee,i(e("input",{onChange:s[4]||(s[4]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.image=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,te),[[d,o.image]]),oe,i(e("textarea",{onChange:s[5]||(s[5]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.description=n,rows:"4",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,40,se),[[d,o.description]])])]),_:2},1032,["onArrayChanged","array","entry","index"]))),128))]),ne,(l(!0),u(h,null,y(t(C),(o,f)=>(l(),u("div",ae,[e("div",{style:E([{backgroundImage:`url(${$(o)})`}]),class:"w-10 h-10 bg-cover bg-no-repeat bg-center"},null,4),e("span",null,g(o),1),e("button",{onClick:n=>t(v)(o),class:"border border-red rounded-sm"},[L(m,{name:"icon-cross",class:"text-red text-xl"})],8,re)]))),256)),e("input",{onChange:V,type:"file",class:"mt-2"},null,32)])}}});export{fe as default};
