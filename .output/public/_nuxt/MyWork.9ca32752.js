import{_ as v}from"./nuxt-icon.vue.17f4aeb4.js";import{a as k,k as w,s as C,m as U,e as V,r as R,o as p,f as c,h as o,v as r,x as l,u as s,F as $,j as F,Q as S,t as B,i as D,W as O}from"./entry.714c7b7e.js";import{u as E}from"./composables.9130a2d4.js";import"./image-options.bca13af2.js";const I={class:"p-4"},L={class:"mb-4"},T=o("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),H={class:"mb-4"},M=o("h2",{class:"text-xs mb-2 opacity-40"},"Text",-1),N={class:"mb-4"},W=o("h2",{class:"text-xs mb-2 opacity-40"},"Linktext",-1),j={class:"mb-4"},z=o("h2",{class:"text-xs mb-2 opacity-40"},"Link",-1),P={class:"mb-4"},Q=o("h2",{class:"text-xs mb-2 opacity-40"},"Hintergrundbild",-1),q=o("h2",{class:"text-xs opacity-40"},"Dateien",-1),A={class:"flex items-center gap-2"},G=["onClick"],ot=k({__name:"MyWork",setup(J){const m=w(),{setComponentContent:K,saveContent:n,deleteFile:f}=m,{componentContent:a,componentId:u,componentType:b,componentFiles:g}=C(m),{pb:x}=U(),y=V();R({heading:""});const _=async i=>{const e=new FormData;for(let t of i.target.files)e.append("files",t);const d=await x.collection(b.value+"s").update(u.value,e);console.log("createdRecord",d),O.emit("refresh")},h=i=>E()(`${y.SERVER_URL}/api/files/${b.value+"s"}/${u.value}/${i}?thumb=160x90f`,{format:"webp"});return(i,e)=>{const d=v;return p(),c("div",I,[o("div",L,[T,r(o("input",{onChange:e[0]||(e[0]=(...t)=>s(n)&&s(n)(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>s(a).heading=t),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).heading]])]),o("div",H,[M,r(o("textarea",{onChange:e[2]||(e[2]=(...t)=>s(n)&&s(n)(...t)),"onUpdate:modelValue":e[3]||(e[3]=t=>s(a).text=t),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).text]])]),o("div",N,[W,r(o("input",{onChange:e[4]||(e[4]=(...t)=>s(n)&&s(n)(...t)),"onUpdate:modelValue":e[5]||(e[5]=t=>s(a).cta.text=t),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).cta.text]])]),o("div",j,[z,r(o("input",{onChange:e[6]||(e[6]=(...t)=>s(n)&&s(n)(...t)),"onUpdate:modelValue":e[7]||(e[7]=t=>s(a).cta.link=t),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).cta.link]])]),o("div",P,[Q,r(o("input",{onChange:e[8]||(e[8]=(...t)=>s(n)&&s(n)(...t)),"onUpdate:modelValue":e[9]||(e[9]=t=>s(a).image=t),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[l,s(a).image]])]),q,(p(!0),c($,null,F(s(g),(t,X)=>(p(),c("div",A,[o("div",{style:S([{backgroundImage:`url(${h(t)})`}]),class:"w-10 h-10 bg-contain bg-no-repeat bg-center"},null,4),o("span",null,B(t),1),o("button",{onClick:Y=>s(f)(t),class:"border border-red rounded-sm"},[D(d,{name:"icon-cross",class:"text-red text-xl"})],8,G)]))),256)),o("input",{onChange:_,type:"file",class:"mt-2 mb-4"},null,32)])}}});export{ot as default};
