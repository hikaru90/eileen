import{_ as P}from"./nuxt-link.dc4ef960.js";import{_ as j}from"./nuxt-icon.vue.869b7076.js";import{a as D,b as U,m as V,ae as F,r as z,C as G,p as N,P as A,o as a,f as d,h as e,i as p,w as u,D as _,F as g,j as y,v as L,z as T,u as n,c as v,t as b,Q as B,y as f,l as E,U as Q}from"./entry.6ffd4596.js";const H={class:"max-container w-full"},J={class:"flex items-center justify-between py-4 mb-10"},K={style:{"font-style":"italic"},class:"font-heading text-lg text-coffee"},R={class:"flex flex-col items-start gap-6"},W={class:"flex flex-col items-start gap-4"},X={class:"flex flex-col gap-3"},Y=e("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Buchen",-1),Z={class:"max-container w-full"},ee={style:{"font-style":"italic"},class:"font-heading text-lg lg:text-2xl text-coffee italic"},te={class:"lg:hidden"},oe={class:"hidden lg:flex items-center gap-4 text-coffee"},se={key:0,class:"ml-1"},ne={class:"bg-sand bg-opacity-100 flex flex-col rounded shadow-lg px-2 py-2 mt-3 gap-2"},le={class:"hidden lg:block"},ae=e("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Buchen",-1),ue=D({__name:"Menu",async setup(q){let c,h;const w=U(),{pb:k}=V(),C=([c,h]=F(()=>k.collection("pages").getFullList(200,{sort:"-created",expand:"subpages"})),c=await c,h(),c),t=z({menuIsOpen:!1,hoverIndex:null,menuEntryCount:0,top:0}),S=G(()=>{let r=C.filter(s=>s.inMenu===!0);r.sort((s,m)=>s.menuOrder-m.menuOrder);let l=0;for(const s of r)if(s.delay=l*100,l++,s.subpages.length>0)for(const m of s.expand.subpages)m.delay=l*100,l++;return t.menuEntryCount=l,r}),$=()=>{console.log("toggle"),t.menuIsOpen=!t.menuIsOpen},I=r=>{console.log("slug",r),r&&(t.menuIsOpen=!1)},O=r=>{const l=r.target.scrollTop;t.top=l};return N(()=>{window.document.getElementById("content-container").addEventListener("scroll",O)}),A(()=>{window.document.getElementById("content-container").removeEventListener("scroll",O)}),(r,l)=>{const s=P,m=j;return a(),d("div",null,[e("div",{class:f([[n(t).menuIsOpen?"opacity-100 scale-100 pointer-events-auto":"scale-110 opacity-0 pointer-events-none"],"fixed z-30 bg-white top-0 left-0 w-full h-full transform transition-all select-none"])},[e("div",H,[e("div",J,[e("div",K,[p(s,{to:"/"},{default:u(()=>[_(" Eileen George ")]),_:1})]),e("button",{"aria-label":"Menü öffnen",onClick:$,class:"flex items-center justify-center rounded p-1"},[p(m,{name:"icon-cross",class:"text-3xl text-red"})])]),e("div",R,[e("div",W,[(a(!0),d(g,null,y(n(S),(o,x)=>L((a(),d("div",{class:"relative",onMouseleave:l[0]||(l[0]=i=>n(t).hoverIndex=null)},[(a(),v(s,{onClick:i=>I(o.slug),to:o.slug==="index"?"/":o.slug,key:"menuEntry"+x,style:B([{transitionDelay:`${o.delay}ms`}]),class:f([[{hidden:!o.slug},n(t).menuIsOpen?"transition-all opacity-100":"opacity-0"],"select-none flex items-center transition-all px-3 py-1 rounded duration-300"])},{default:u(()=>[e("span",null,b(o.title),1)]),_:2},1032,["onClick","to","style","class"])),e("div",X,[(a(!0),d(g,null,y(o.expand.subpages,(i,M)=>(a(),v(s,{onClick:ie=>I(o),to:i.slug==="index"?"/":i.slug,key:x+"subpage"+M,style:B([{transitionDelay:`${i.delay}ms`}]),class:f([[n(t).menuIsOpen?"transition-all opacity-100":"opacity-0"],"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"])},{default:u(()=>[_(b(i.title),1)]),_:2},1032,["onClick","to","style","class"]))),128))])],544)),[[T,o.inMenu]])),256))]),p(s,{onClick:l[1]||(l[1]=o=>I("buchen")),style:B([{transitionDelay:`${(n(t).menuEntryCount+1)*100}ms`}]),class:f([[n(t).menuIsOpen?"transition-all opacity-100":"opacity-0"],"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"]),to:"/buchen"},{default:u(()=>[Y]),_:1},8,["style","class"])])])],2),e("div",{class:f([[n(t).top>0?"bg-white shadow-xl shadow-coffee/5":"shadow-sm",n(w).token?"absolute":"fixed"],"top-0 left-0 w-full z-20 text-white transition duration-100"])},[e("div",Z,[e("div",{class:f([[n(t).top>0?"py-4 lg:py-4":"py-4 lg:py-6"],"flex items-center justify-between transition-all duration-150"])},[e("div",ee,[p(s,{to:"/"},{default:u(()=>[_(" Eileen George ")]),_:1})]),e("div",te,[e("button",{"aria-label":"Menü öffnen",onClick:$,class:"flex items-center justify-center rounded p-1"},[p(m,{name:"icon-menu",class:"text-2xl text-coffee"})])]),e("div",oe,[(a(!0),d(g,null,y(n(S),(o,x)=>L((a(),d("div",{class:"relative",onMouseleave:l[2]||(l[2]=i=>n(t).hoverIndex=null)},[(a(),v(s,{to:o.slug==="index"?"/":o.slug,onMouseenter:i=>n(t).hoverIndex=x,key:"menuEntry"+x,class:"flex select-none items-center transition-all px-3 py-1 rounded"},{default:u(()=>[e("div",null,b(o.title),1),o.subpages.length>0?(a(),d("div",se,[p(m,{name:"icon-triangle_down"})])):E("",!0)]),_:2},1032,["to","onMouseenter"])),e("div",{class:f([[o.subpages.length>0&&n(t).hoverIndex===x?"select-auto opacity-100 bottom-0":"select-none opacity-0 bottom-2"],"absolute left-1 transform translate-y-full flex flex-col items-center -ml-3 transition-all"])},[e("div",ne,[(a(!0),d(g,null,y(o.expand.subpages,(i,M)=>(a(),v(s,{to:i.slug==="index"?"/":i.slug,key:x+"subpage"+M,class:"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"},{default:u(()=>[_(b(i.title),1)]),_:2},1032,["to"]))),128))])],2)],544)),[[T,o.inMenu]])),256))]),e("div",le,[p(s,{to:"/buchen",class:"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"},{default:u(()=>[ae]),_:1})])],2)])],2)])}}}),pe=D({__name:"UpButton",setup(q){const c=z({threshold:500,visible:!1}),h=k=>{document.querySelector("#content-container").scrollTop>c.threshold?c.visible=!0:c.visible=!1},w=()=>{document.querySelector("#content-container").scrollTo({top:0,behavior:"smooth"})};return N(()=>{document.querySelector("#content-container").addEventListener("scroll",h)}),Q(()=>{document.querySelector("#content-container").removeEventListener("scroll",h)}),(k,C)=>{const t=j;return a(),d("button",{onClick:w,class:f([[n(c).visible?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"],"fixed bottom-4 md:bottom-6 right-5 md:right-10 flex items-center justify-center rounded-full shadow-xl bg-white p-2 md:p-4 border border-grey border-opacity-10 transition duration-500"])},[p(t,{name:"icon-arrow_up",class:"text-xl text-darkGrey"})],2)}}});export{ue as _,pe as a};
