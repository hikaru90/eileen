import{_ as $}from"./DvLY9yYm.js";import{_ as I}from"./DR3C1UCQ.js";import{f as O,h as R,s as A,u as F,r as T,o as l,c as u,a as e,A as d,E as i,n as t,t as _,F as x,x as y,q as B,w as D,S as E,b as N,y as H,T as L}from"./BtqrO9Ir.js";import{u as j}from"./BQsV-98k.js";import"./C5jMS97L.js";const z={class:"p-4"},P={class:"mb-4"},q=e("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),G={class:"mb-4"},M=e("h2",{class:"text-xs mb-2 opacity-40"},"Image",-1),J={class:"mb-2 flex items-center justify-between"},K=e("h2",{class:"text-xs opacity-40"},"Slides",-1),Q={class:"py-1px px-2 rounded-full bg-offwhite text-xs text-coffee font-bold flex items-center justify-center"},W={class:"mb-4"},X={class:"px-2"},Y=e("h2",{class:"text-xs mb-2 opacity-40"},"Typ",-1),Z=["onUpdate:modelValue"],ee=e("h2",{class:"text-xs mb-2 opacity-40"},"Ort",-1),te=["onUpdate:modelValue"],se=e("h2",{class:"text-xs mb-2 opacity-40"},"Name",-1),oe=["onUpdate:modelValue"],ne=e("h2",{class:"text-xs opacity-40"},"Dateien",-1),ae={class:"flex items-center gap-2"},re=["onClick"],be=O({__name:"ImageList",setup(le){const{$event:v}=H(),f=R(),{setComponentContent:de,saveContent:a,deleteFile:w}=f,{componentContent:r,componentId:g,componentType:h,componentFiles:C}=A(f),{pb:k}=F(),U=L();T({heading:""});const S=async c=>{const s=new FormData;for(let m of c.target.files)s.append("files",m);const p=await k.collection(h.value+"s").update(g.value,s);console.log("createdRecord",p),v("refresh")},V=c=>j()(`${U.public.SERVER_URL}/api/files/${h.value+"s"}/${g.value}/${c}?thumb=160x90f`,{format:"webp"});return(c,s)=>{const p=$,m=I;return l(),u("div",z,[e("div",P,[q,d(e("input",{onChange:s[0]||(s[0]=(...o)=>t(a)&&t(a)(...o)),"onUpdate:modelValue":s[1]||(s[1]=o=>t(r).heading=o),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[i,t(r).heading]])]),e("div",G,[M,d(e("input",{onChange:s[2]||(s[2]=(...o)=>t(a)&&t(a)(...o)),"onUpdate:modelValue":s[3]||(s[3]=o=>t(r).image=o),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[i,t(r).image]])]),e("div",J,[K,e("div",Q,_(t(r).list.length),1)]),e("div",W,[(l(!0),u(x,null,y(t(r).list,(o,b)=>(l(),B(p,{onArrayChanged:t(a),key:"item"+b,array:t(r).slides,entry:o,index:b},{default:D(()=>[e("div",X,[Y,d(e("input",{onChange:s[4]||(s[4]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.type=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,Z),[[i,o.type]]),ee,d(e("input",{onChange:s[5]||(s[5]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.place=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,te),[[i,o.place]]),se,d(e("input",{onChange:s[6]||(s[6]=(...n)=>t(a)&&t(a)(...n)),"onUpdate:modelValue":n=>o.name=n,type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20 mb-4"},null,40,oe),[[i,o.name]])])]),_:2},1032,["onArrayChanged","array","entry","index"]))),128)),e("button",{onClick:s[7]||(s[7]=o=>t(r).list.push({type:"Ausbildung",place:"IGST Heidelberg",name:"Systemische Sexualtherapie"})),class:"rounded-sm hover:bg-white hover:bg-opacity-20 px-2 border border-darkOffwhite border-opacity-20"}," HinzufÃ¼gen ")]),ne,(l(!0),u(x,null,y(t(C),(o,b)=>(l(),u("div",ae,[e("div",{style:E([{backgroundImage:`url(${V(o)})`}]),class:"w-10 h-10 bg-cover bg-no-repeat bg-center"},null,4),e("span",null,_(o),1),e("button",{onClick:n=>t(w)(o),class:"border border-red rounded-sm"},[N(m,{name:"icon-cross",class:"text-red text-xl"})],8,re)]))),256)),e("input",{onChange:S,type:"file",class:"mt-2"},null,32)])}}});export{be as default};
