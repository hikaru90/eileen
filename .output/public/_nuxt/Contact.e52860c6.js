import{_ as y}from"./nuxt-icon.vue.31f2b8d4.js";import{a as C,k as w,s as k,m as R,e as U,r as $,o as l,f as d,h as o,q as c,v as p,u as s,F as B,j as F,R as S,t as V,i as D,W as E}from"./entry.bb92167b.js";import{u as I}from"./composables.895b8bf5.js";import"./image-options.f0808f8e.js";const O={class:"p-4"},T={class:"mb-4"},L=o("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),N={class:"mb-4"},j=o("h2",{class:"text-xs mb-2 opacity-40"},"EmpfÃ¤nger",-1),q={class:"mb-4"},z=o("h2",{class:"text-xs mb-2 opacity-40"},"Bild",-1),H=o("h2",{class:"text-xs opacity-40"},"Dateien",-1),M={class:"flex items-center gap-2"},P=["onClick"],Z=C({__name:"Contact",setup(W){const m=w(),{setComponentContent:A,saveContent:n,deleteFile:f}=m,{componentContent:a,componentId:u,componentType:g,componentFiles:b}=k(m),{pb:_}=R(),x=U();$({heading:""});const h=async r=>{const t=new FormData;for(let e of r.target.files)t.append("files",e);const i=await _.collection(g.value+"s").update(u.value,t);console.log("createdRecord",i),E.emit("refresh")},v=r=>I()(`${x.SERVER_URL}/api/files/${g.value+"s"}/${u.value}/${r}?thumb=160x90f`,{format:"webp"});return(r,t)=>{const i=y;return l(),d("div",O,[o("div",T,[L,c(o("input",{onChange:t[0]||(t[0]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>s(a).heading=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[p,s(a).heading]])]),o("div",N,[j,c(o("input",{onChange:t[2]||(t[2]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>s(a).recipient=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[p,s(a).recipient]])]),o("div",q,[z,c(o("input",{onChange:t[4]||(t[4]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>s(a).image=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[p,s(a).image]])]),H,(l(!0),d(B,null,F(s(b),(e,G)=>(l(),d("div",M,[o("div",{style:S([{backgroundImage:`url(${v(e)})`}]),class:"w-10 h-10 bg-contain bg-no-repeat bg-center"},null,4),o("span",null,V(e),1),o("button",{onClick:J=>s(f)(e),class:"border border-red rounded-sm"},[D(i,{name:"icon-cross",class:"text-red text-xl"})],8,P)]))),256)),o("input",{onChange:h,type:"file",class:"mt-2 mb-4"},null,32)])}}});export{Z as default};
