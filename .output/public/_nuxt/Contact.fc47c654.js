import{_ as D}from"./IntersectonPop.vue.60cbb0ad.js";import{_ as U}from"./nuxt-icon.vue.869b7076.js";import{a as E,e as S,r as $,o as s,f as a,h as t,i as b,w as q,t as h,Q as B,u,F as i,j as R,y as x,D as f,v as y,x as w,l as g,A as j,B as M}from"./entry.6ffd4596.js";import{u as T}from"./composables.3dfa639f.js";import{u as z}from"./useBrevo.309e3f56.js";import{d as L}from"./defaults.89e50d4f.js";import{_ as A}from"./_plugin-vue_export-helper.c27b6911.js";import"./helpers.8021eb3b.js";import"./image-options.7efedd0c.js";const d=r=>(j("data-v-12323a35"),r=r(),M(),r),O={class:"mb-28"},P={class:"max-container"},Q={class:"flex items-center justify-center"},G={class:"shiny-pop text-salmon font-heading text-lg sm:text-xl md:text-3xl lg:text-4xl mb-16 text-center"},H={class:"flex flex-col lg:flex-row gap-16"},J={class:"-ml-[3%] -mr-[5%] lg:mx-auto w-auto lg:w-2/3"},K={class:"bg-white shadow-2xl shadow-coffee/20 py-5 px-10"},W={key:0,class:"flex flex-wrap -mx-3"},X=["for"],Y=["id","onUpdate:modelValue"],Z=["id","onUpdate:modelValue"],ee={key:2,class:"mt-1 rounded text-red bg-lightRed/60 px-2 py-[2px] text-sm"},te=d(()=>t("div",{class:""},"Nachricht senden",-1)),se=[te],ae={key:1,class:"h-60 flex flex-col items-start justify-center"},oe={key:0,class:"animate-spin"},le=d(()=>t("div",{class:"font-heading text-2xl mb-2"},"Vielen Dank!",-1)),ne=d(()=>t("p",{class:"max-w-[24em]"}," Deine Nachricht ist bei mir eingegangen. Ich melde mich sobald wie möglich bei Dir. ",-1)),re=d(()=>t("div",{class:"font-heading text-2xl mb-2 text-red"},"Oh!",-1)),ie=d(()=>t("p",{class:"max-w-[24em]"},[f(" Bei dem Versand Deiner Nachricht ist ein Fehler aufgetreten. Versuche es bitte erneut. Falls der Fehler bestehen bleibt, sende mir bitte eine E-Mail an "),t("a",{href:"mailto:kontakt@eileengeorge.de",class:"underline"},"kontakt@eileengeorge.de"),f(". ")],-1)),ce=E({__name:"Contact",props:{component:{default:{content:L.find(r=>r.type==="contact").content}}},setup(r){const c=r,{sendMail:k}=z(),V=S(),o=$({form:[{name:"firstName",validation:"required",label:"Vorname",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"lastName",validation:"required",label:"Nachname",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"mail",validation:"required",label:"E-Mail",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"phone",validation:"",label:"Telefonnummer",type:"text",value:"",class:"w-full lg:w-1/2",error:""},{name:"message",validation:"required",label:"Nachricht",type:"textarea",value:"",class:"w-full",error:""}],pending:!1,submitted:!1,success:!1}),I=n=>T()(`${V.SERVER_URL}/api/files/${c.component.collectionName}/${c.component.id}/${n}`,{format:"webp"}),p=()=>{let n=[];for(let l of o.form)l.validation==="required"&&(l.value?l.error="":(l.error="Fülle bitte dieses Feld aus.",n.push(1)));return!(n.length>0)},N=()=>{let n={};return o.form.forEach(l=>{n[l.name]=l.value}),n},C=async()=>{var n;o.pending=!0;try{if(!p())return;await k("contactForm",(n=c.component.content)==null?void 0:n.recipient,N()),o.pending=!1,o.submitted=!0,o.success=!0}catch(l){console.log("error sending contact form",l),o.pending=!1,o.submitted=!0,o.success=!1}};return(n,l)=>{const v=D,F=U;return s(),a("div",O,[t("div",P,[t("div",Q,[b(v,null,{default:q(()=>{var e;return[t("h2",G,h((e=c.component.content)==null?void 0:e.heading),1)]}),_:1})]),t("div",H,[t("div",{style:B([{backgroundImage:`url(${I(c.component.content.image)})`}]),class:"flex-grow bg-cover shadow-2xl shadow-coffee/20 w-full h-60 lg:h-auto lg:w-1/3 rounded"},null,4),t("div",J,[t("div",K,[u(o).submitted?(s(),a("div",ae,[u(o).pending?(s(),a("div",oe,[b(F,{name:"icon-pending",class:"text-4xl text-black animate-spin"})])):(s(),a(i,{key:1},[u(o).success?(s(),a(i,{key:0},[le,ne],64)):(s(),a(i,{key:1},[re,ie],64))],64))])):(s(),a("div",W,[(s(!0),a(i,null,R(u(o).form,(e,m)=>(s(),a("div",{key:"formElement"+m,class:x([[e.class],"px-2 mt-3"])},[t("label",{for:"input"+m,class:"text-sm block ml-1"},[f(h(e.label)+" ",1),e.validation==="required"?(s(),a(i,{key:0},[],64)):(s(),a(i,{key:1},[f(" (optional) ")],64))],8,X),e.type==="text"?y((s(),a("input",{key:0,id:"input"+m,type:"text","onUpdate:modelValue":_=>e.value=_,onInput:p,class:x([[e.error.length?"border !border-red":""],"input-class"])},null,42,Y)),[[w,e.value]]):g("",!0),e.type==="textarea"?y((s(),a("textarea",{key:1,id:"input"+m,"onUpdate:modelValue":_=>e.value=_,onInput:p,class:x(["input-class min-h-[200px]",[e.error?"border !border-red":""]])},null,42,Z)),[[w,e.value]]):g("",!0),e.error?(s(),a("div",ee,h(e.error),1)):g("",!0)],2))),128)),t("div",{class:"flex justify-end w-full mr-3 mt-3"},[t("button",{onClick:C,class:"bg-salmon rounded-full text-white flex items-center px-5 py-2 shadow-md shadow-coffee/10"},se)])]))])])])])])}}});const ve=A(ce,[["__scopeId","data-v-12323a35"]]);export{ve as default};
