import{_ as L}from"./nuxt-link.9b37e1fb.js";import{_ as j}from"./nuxt-icon.vue.67b49880.js";import{a as q,m as N,ae as T,r as D,B as z,o as n,f as r,h as e,i as d,O as p,C as g,F as v,j as y,q as B,y as S,u as i,c as b,t as w,P as O,x as _,l as P,p as V,U as F}from"./entry.f2f8d813.js";const U={class:"max-container w-full"},A={class:"flex items-center justify-between py-6 mb-10"},H={class:"font-heading text-2xl text-coffee"},J={class:"flex flex-col items-start gap-6"},K={class:"flex flex-col items-start gap-4"},Q={class:"flex flex-col gap-3"},R=e("div",{class:"font-bold"},"Buchen",-1),W={class:"flex items-center justify-center bg-gradient-to-b from-gold via-lightGold to-darkGold rounded-full ml-2 w-4 h-4"},X={class:"absolute top-0 left-0 w-full shadow-sm z-20 text-white"},Y={class:"max-container w-full"},Z={class:"flex items-center justify-between py-6"},E={class:"font-heading text-2xl text-coffee"},ee={class:"lg:hidden"},te={class:"flex items-center gap-4 text-coffee"},se={key:0,class:"ml-1"},oe={class:"bg-sand bg-opacity-100 flex flex-col rounded shadow-lg px-2 py-2 mt-3 gap-2"},ne={class:"hidden lg:block"},le=e("div",{style:{"text-shadow":"rgba(0, 0, 0, 0.8) 0 0 40px"},class:""},"Buchen",-1),de=q({__name:"Menu",async setup(G){let c,x;const{pb:k}=N(),C=([c,x]=T(()=>k.collection("pages").getFullList(200,{sort:"-created",expand:"subpages"})),c=await c,x(),c),o=D({menuIsOpen:!1,hoverIndex:null,menuEntryCount:0}),h=z(()=>{let f=C.filter(s=>s.inMenu===!0);f.sort((s,u)=>s.menuOrder-u.menuOrder);let l=0;for(const s of f)if(s.delay=l*100,l++,s.subpages.length>0)for(const u of s.expand.subpages)u.delay=l*100,l++;return o.menuEntryCount=l,f}),$=()=>{console.log("toggle"),o.menuIsOpen=!o.menuIsOpen},I=f=>{console.log("slug",f),f&&(o.menuIsOpen=!1)};return(f,l)=>{const s=L,u=j;return n(),r("div",null,[e("div",{class:_([[i(o).menuIsOpen?"opacity-100 scale-100 pointer-events-auto":"scale-110 opacity-0 pointer-events-none"],"fixed z-30 bg-white top-0 left-0 w-full h-full transform transition-all select-none"])},[e("div",U,[e("div",A,[e("div",H,[d(s,{to:"/"},{default:p(()=>[g(" Eileen George ")]),_:1})]),e("button",{"aria-label":"Menü öffnen",onClick:$,class:"flex items-center justify-center rounded p-1"},[d(u,{name:"icon-cross",class:"text-3xl text-red"})])]),e("div",J,[e("div",K,[(n(!0),r(v,null,y(i(h),(t,m)=>B((n(),r("div",{class:"relative",onMouseleave:l[0]||(l[0]=a=>i(o).hoverIndex=null)},[(n(),b(s,{onClick:a=>I(t.slug),to:t.slug==="index"?"/":t.slug,key:"menuEntry"+m,style:O([{transitionDelay:`${t.delay}ms`}]),class:_([[{hidden:!t.slug},i(o).menuIsOpen?"transition-all opacity-100":"opacity-0"],"select-none flex items-center transition-all px-3 py-1 rounded duration-300"])},{default:p(()=>[e("span",null,w(t.title),1)]),_:2},1032,["onClick","to","style","class"])),e("div",Q,[(n(!0),r(v,null,y(t.expand.subpages,(a,M)=>(n(),b(s,{onClick:ae=>I(t),to:a.slug==="index"?"/":a.slug,key:m+"subpage"+M,style:O([{transitionDelay:`${a.delay}ms`}]),class:_([[i(o).menuIsOpen?"transition-all opacity-100":"opacity-0"],"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"])},{default:p(()=>[g(w(a.title),1)]),_:2},1032,["onClick","to","style","class"]))),128))])],544)),[[S,t.inMenu]])),256))]),d(s,{onClick:l[1]||(l[1]=t=>I("buchen")),to:"/buchen",style:O([{transitionDelay:`${(i(o).menuEntryCount+1)*100}ms`}]),class:_([[i(o).menuIsOpen?"transition-all opacity-100":"opacity-0"],"border-2 border-gold rounded flex items-center px-3 py-2 duration-300"])},{default:p(()=>[R,e("div",W,[d(u,{name:"icon-caret-right",class:"text-sm text-coffee"})])]),_:1},8,["style","class"])])])],2),e("div",X,[e("div",Y,[e("div",Z,[e("div",E,[d(s,{to:"/"},{default:p(()=>[g(" Eileen George ")]),_:1})]),e("div",ee,[e("button",{"aria-label":"Menü öffnen",onClick:$,class:"flex items-center justify-center rounded p-1"},[d(u,{name:"icon-menu",class:"text-2xl text-white"})])]),e("div",te,[(n(!0),r(v,null,y(i(h),(t,m)=>B((n(),r("div",{class:"relative",onMouseleave:l[2]||(l[2]=a=>i(o).hoverIndex=null)},[(n(),b(s,{to:t.slug==="index"?"/":t.slug,onMouseenter:a=>i(o).hoverIndex=m,key:"menuEntry"+m,class:"flex select-none items-center transition-all px-3 py-1 rounded"},{default:p(()=>[e("div",null,w(t.title),1),t.subpages.length>0?(n(),r("div",se,[d(u,{name:"icon-triangle_down"})])):P("",!0)]),_:2},1032,["to","onMouseenter"])),e("div",{class:_([[t.subpages.length>0&&i(o).hoverIndex===m?"select-auto opacity-100 bottom-0":"select-none opacity-0 bottom-2"],"absolute left-1 transform translate-y-full flex flex-col items-center -ml-3 transition-all"])},[e("div",oe,[(n(!0),r(v,null,y(t.expand.subpages,(a,M)=>(n(),b(s,{to:a.slug==="index"?"/":a.slug,key:m+"subpage"+M,class:"whitespace-nowrap last:border-b-0 px-3 py-1 hover:bg-white hover:bg-opacity-5 rounded transition-all"},{default:p(()=>[g(w(a.title),1)]),_:2},1032,["to"]))),128))])],2)],544)),[[S,t.inMenu]])),256))]),e("div",ne,[d(s,{to:"/buchen",class:"bg-white rounded-full text-darkCoffee flex items-center px-5 py-2 shadow-md shadow-coffee/10"},{default:p(()=>[le]),_:1})])])])])])}}}),ue=q({__name:"UpButton",setup(G){const c=D({threshold:500,visible:!1}),x=C=>{document.querySelector("#content-container").scrollTop>c.threshold?c.visible=!0:c.visible=!1},k=()=>{document.querySelector("#content-container").scrollTo({top:0,behavior:"smooth"})};return V(()=>{document.querySelector("#content-container").addEventListener("scroll",x)}),F(()=>{document.querySelector("#content-container").removeEventListener("scroll",x)}),(C,o)=>{const h=j;return n(),r("button",{onClick:k,class:_([[i(c).visible?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"],"fixed bottom-4 md:bottom-6 right-5 md:right-10 flex items-center justify-center rounded-full shadow-xl bg-white p-2 md:p-4 border border-grey border-opacity-10 transition duration-500"])},[d(h,{name:"icon-arrow_up",class:"text-xl text-darkGrey"})],2)}}});export{de as _,ue as a};
