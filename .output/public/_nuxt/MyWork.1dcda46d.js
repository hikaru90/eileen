import{_ as v}from"./nuxt-icon.vue.95d5fe45.js";import{a as C,k,s as w,m as R,e as U,r as V,o as i,f as d,h as o,E as c,J as m,u as s,F as $,j as F,P as S,t as B,i as D,V as E}from"./entry.945ec815.js";import{u as I}from"./composables.6d0d3268.js";const T={class:"p-4"},O={class:"mb-4"},H=o("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),L={class:"mb-4"},M=o("h2",{class:"text-xs mb-2 opacity-40"},"Text",-1),N={class:"mb-4"},P=o("h2",{class:"text-xs mb-2 opacity-40"},"Hintergrundbild",-1),j=o("h2",{class:"text-xs opacity-40"},"Dateien",-1),z={class:"flex items-center gap-2"},J=["onClick"],Y=C({__name:"MyWork",setup(W){const p=k(),{setComponentContent:q,saveContent:n,deleteFile:b}=p,{componentContent:a,componentId:u,componentType:g,componentFiles:f}=w(p),{pb:x}=R(),_=U();V({heading:""});const h=async r=>{const t=new FormData;for(let e of r.target.files)t.append("files",e);const l=await x.collection(g.value+"s").update(u.value,t);console.log("createdRecord",l),E.emit("refresh")},y=r=>I()(`${_.SERVER_URL}/api/files/${g.value+"s"}/${u.value}/${r}?thumb=160x90f`,{format:"webp"});return(r,t)=>{const l=v;return i(),d("div",T,[o("div",O,[H,c(o("input",{onChange:t[0]||(t[0]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>s(a).heading=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[m,s(a).heading]])]),o("div",L,[M,c(o("textarea",{onChange:t[2]||(t[2]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>s(a).text=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[m,s(a).text]])]),o("div",N,[P,c(o("input",{onChange:t[4]||(t[4]=(...e)=>s(n)&&s(n)(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>s(a).image=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[m,s(a).image]])]),j,(i(!0),d($,null,F(s(f),(e,A)=>(i(),d("div",z,[o("div",{style:S([{backgroundImage:`url(${y(e)})`}]),class:"w-10 h-10 bg-contain bg-no-repeat bg-center"},null,4),o("span",null,B(e),1),o("button",{onClick:G=>s(b)(e),class:"border border-red rounded-sm"},[D(l,{name:"icon-cross",class:"text-red text-xl"})],8,J)]))),256)),o("input",{onChange:h,type:"file",class:"mt-2 mb-4"},null,32)])}}});export{Y as default};
