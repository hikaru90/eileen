import{_ as y}from"./nuxt-icon.vue.67b49880.js";import{a as C,k,s as w,m as R,e as S,r as $,o as l,f as d,h as s,q as u,v as g,u as o,F,j as U,P as V,t as B,i as D,V as E}from"./entry.f2f8d813.js";import{u as I}from"./composables.77a6ee3e.js";import"./image-options.96f92475.js";const H={class:"p-4"},T={class:"mb-4"},L=s("h2",{class:"text-xs mb-2 opacity-40"},"Heading",-1),N={class:"mb-4"},O=s("h2",{class:"text-xs mb-2 opacity-40"},"Hintergrundbild",-1),P=s("h2",{class:"text-xs opacity-40"},"Dateien",-1),j={class:"flex items-center gap-2"},q=["onClick"],X=C({__name:"HeroSmall",setup(z){const c=k(),{setComponentContent:M,saveContent:n,deleteFile:f}=c,{componentContent:a,componentId:m,componentType:p,componentFiles:b}=w(c),{pb:_}=R(),h=S();$({heading:""});const x=async r=>{const t=new FormData;for(let e of r.target.files)t.append("files",e);const i=await _.collection(p.value+"s").update(m.value,t);console.log("createdRecord",i),E.emit("refresh")},v=r=>I()(`${h.SERVER_URL}/api/files/${p.value+"s"}/${m.value}/${r}?thumb=160x90f`,{format:"webp"});return(r,t)=>{const i=y;return l(),d("div",H,[s("div",T,[L,u(s("input",{onChange:t[0]||(t[0]=(...e)=>o(n)&&o(n)(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>o(a).heading=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[g,o(a).heading]])]),s("div",N,[O,u(s("input",{onChange:t[2]||(t[2]=(...e)=>o(n)&&o(n)(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>o(a).image=e),type:"text",class:"w-full rounded-sm pl-1 bg-transparent border border-darkOffwhite border-opacity-20"},null,544),[[g,o(a).image]])]),P,(l(!0),d(F,null,U(o(b),(e,A)=>(l(),d("div",j,[s("div",{style:V([{backgroundImage:`url(${v(e)})`}]),class:"w-10 h-10 bg-contain bg-no-repeat bg-center"},null,4),s("span",null,B(e),1),s("button",{onClick:G=>o(f)(e),class:"border border-red rounded-sm"},[D(i,{name:"icon-cross",class:"text-red text-xl"})],8,q)]))),256)),s("input",{onChange:x,type:"file",class:"mt-2 mb-4"},null,32)])}}});export{X as default};
